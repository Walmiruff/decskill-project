import { createEntityAdapter } from '@ngrx/entity';
import { PostActionTypes } from '../actions/post_action';
export const adapter = createEntityAdapter();
export const initialPostState = adapter.getInitialState({
    id: '1',
    userId: '@anyuser',
    content: 'content test',
    date: new Date()
});
export function PostReducer(state = initialPostState, action) {
    switch (action.type) {
        case PostActionTypes.LOADALLPOSTS:
            return adapter.setAll(action.payload.posts, state);
        case PostActionTypes.ADDPOST:
            return adapter.addOne(action.payload.post, state);
        case PostActionTypes.UPDATEPOST:
            return adapter.updateOne({ id: action.payload.id, changes: action.payload }, state);
        case PostActionTypes.REMOVEPOST:
            return adapter.removeOne(action.payload.id, state);
        default:
            return state;
    }
}
export const { selectAll, selectEntities, selectIds, selectTotal } = adapter.getSelectors();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9zdF9yZWR1Y2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvZGNzay9zdG9yZS9zcmMvbGliL3JlZHVjZXJzL3Bvc3RfcmVkdWNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQThCLG1CQUFtQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRy9FLE9BQU8sRUFBYyxlQUFlLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUdyRSxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQXlCLG1CQUFtQixFQUFTLENBQUM7QUFJMUUsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQWMsT0FBTyxDQUFDLGVBQWUsQ0FDOUQ7SUFDSSxFQUFFLEVBQUUsR0FBRztJQUNQLE1BQU0sRUFBRSxVQUFVO0lBQ2xCLE9BQU8sRUFBRSxjQUFjO0lBQ3ZCLElBQUksRUFBRSxJQUFJLElBQUksRUFBRTtDQUNuQixDQUNKLENBQUM7QUFFRixNQUFNLFVBQVUsV0FBVyxDQUFDLEtBQUssR0FBRyxnQkFBZ0IsRUFBRSxNQUFrQjtJQUNwRSxRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUU7UUFDakIsS0FBSyxlQUFlLENBQUMsWUFBWTtZQUM3QixPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDdkQsS0FBSyxlQUFlLENBQUMsT0FBTztZQUN4QixPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDdEQsS0FBSyxlQUFlLENBQUMsVUFBVTtZQUMzQixPQUFPLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN4RixLQUFLLGVBQWUsQ0FBQyxVQUFVO1lBQzNCLE9BQU8sT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN2RDtZQUNJLE9BQU8sS0FBSyxDQUFDO0tBQ3BCO0FBQ0wsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLEVBQ1QsU0FBUyxFQUNULGNBQWMsRUFDZCxTQUFTLEVBQ1QsV0FBVyxFQUNkLEdBQUcsT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW50aXR5U3RhdGUsIEVudGl0eUFkYXB0ZXIsIGNyZWF0ZUVudGl0eUFkYXB0ZXIgfSBmcm9tICdAbmdyeC9lbnRpdHknO1xyXG5cclxuaW1wb3J0IHsgSVBvc3QgfSBmcm9tICcuLi9tb2RlbHMvcG9zdC5tb2RlbCc7XHJcbmltcG9ydCB7IFBvc3RBY3Rpb24sIFBvc3RBY3Rpb25UeXBlcyB9IGZyb20gJy4uL2FjdGlvbnMvcG9zdF9hY3Rpb24nO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBhZGFwdGVyOiBFbnRpdHlBZGFwdGVyPElQb3N0PiA9IGNyZWF0ZUVudGl0eUFkYXB0ZXI8SVBvc3Q+KCk7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBvc3RTdGF0ZSBleHRlbmRzIEVudGl0eVN0YXRlPElQb3N0PiB7IH1cclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsUG9zdFN0YXRlOiBQb3N0U3RhdGUgPSBhZGFwdGVyLmdldEluaXRpYWxTdGF0ZShcclxuICAgIHtcclxuICAgICAgICBpZDogJzEnLFxyXG4gICAgICAgIHVzZXJJZDogJ0Bhbnl1c2VyJyxcclxuICAgICAgICBjb250ZW50OiAnY29udGVudCB0ZXN0JyxcclxuICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpXHJcbiAgICB9XHJcbik7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUG9zdFJlZHVjZXIoc3RhdGUgPSBpbml0aWFsUG9zdFN0YXRlLCBhY3Rpb246IFBvc3RBY3Rpb24pOiBQb3N0U3RhdGUge1xyXG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgICAgIGNhc2UgUG9zdEFjdGlvblR5cGVzLkxPQURBTExQT1NUUzpcclxuICAgICAgICAgICAgcmV0dXJuIGFkYXB0ZXIuc2V0QWxsKGFjdGlvbi5wYXlsb2FkLnBvc3RzLCBzdGF0ZSk7XHJcbiAgICAgICAgY2FzZSBQb3N0QWN0aW9uVHlwZXMuQUREUE9TVDpcclxuICAgICAgICAgICAgcmV0dXJuIGFkYXB0ZXIuYWRkT25lKGFjdGlvbi5wYXlsb2FkLnBvc3QsIHN0YXRlKTtcclxuICAgICAgICBjYXNlIFBvc3RBY3Rpb25UeXBlcy5VUERBVEVQT1NUOlxyXG4gICAgICAgICAgICByZXR1cm4gYWRhcHRlci51cGRhdGVPbmUoeyBpZDogYWN0aW9uLnBheWxvYWQuaWQsIGNoYW5nZXM6IGFjdGlvbi5wYXlsb2FkIH0sIHN0YXRlKTtcclxuICAgICAgICBjYXNlIFBvc3RBY3Rpb25UeXBlcy5SRU1PVkVQT1NUOlxyXG4gICAgICAgICAgICByZXR1cm4gYWRhcHRlci5yZW1vdmVPbmUoYWN0aW9uLnBheWxvYWQuaWQsIHN0YXRlKTtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB7XHJcbiAgICBzZWxlY3RBbGwsXHJcbiAgICBzZWxlY3RFbnRpdGllcyxcclxuICAgIHNlbGVjdElkcyxcclxuICAgIHNlbGVjdFRvdGFsXHJcbn0gPSBhZGFwdGVyLmdldFNlbGVjdG9ycygpO1xyXG4iXX0=